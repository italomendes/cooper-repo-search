<mat-toolbar class="mat-elevation-z6" color="primary">
    <span>Busca de repositórios do GitHub</span>
</mat-toolbar>

<div fxLayout=row fxLayoutAlign="center center">
    <mat-form-field>
        <mat-label>Usuário do GitHub</mat-label>
        <input matInput [(ngModel)]="userName" (keyup.enter)="getRepositoriesByUser(userName)">
    </mat-form-field>
    <div fxLayoutAlign="center center">
        <button mat-mini-fab (click)="getRepositoriesByUser(userName)">
          <mat-icon>search</mat-icon>
        </button>
    </div>
</div>
    
<div class="repo-list">
    <div *ngIf="(repositories$ | async) === null">
        Usuário não encontrado!
    </div>
    <div *ngFor="let repository of repositories$ | async">
    
        <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                {{repository?.name}}
              </mat-panel-title>
              <mat-panel-description fxLayoutAlign="end stretch">
                Criado em: {{repository?.created_at | date:'dd/MM/yyyy'}}
              </mat-panel-description>
            </mat-expansion-panel-header>
        
            <p *ngIf="repository?.description">Descrição: {{repository?.description}}</p>
            <p><a href="{{repository?.svn_url}}" target="_blank">Visitar repositório</a></p>
        </mat-expansion-panel>
    </div>
</div>

